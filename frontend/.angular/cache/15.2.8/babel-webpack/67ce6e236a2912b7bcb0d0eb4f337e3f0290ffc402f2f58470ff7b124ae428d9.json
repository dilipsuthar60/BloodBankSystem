{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngneat/hot-toast\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../blood-bank.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nconst _c0 = [\"editForm\"];\nfunction EditCampComponent_span_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 33);\n    i0.ɵɵtext(1, \"*Please enter Camp Name\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditCampComponent_span_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 33);\n    i0.ɵɵtext(1, \"*Please enter Organizer's name\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditCampComponent_span_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 33);\n    i0.ɵɵtext(1, \"*Please enter camp location\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditCampComponent_span_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 33);\n    i0.ɵɵtext(1, \"*Please select camp date\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditCampComponent_span_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 33);\n    i0.ɵɵtext(1, \"*Please select start time\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditCampComponent_span_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 33);\n    i0.ɵɵtext(1, \"*Please select end time\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class EditCampComponent {\n  constructor(toast, router, route, bloodBankService) {\n    this.toast = toast;\n    this.router = router;\n    this.route = route;\n    this.bloodBankService = bloodBankService;\n    this.submitted = false;\n  }\n  ngOnInit() {\n    constthis.campId = this.route.snapshot.paramMap.get('id');\n    if (campId) {\n      this.getSingleCamp(campId);\n    }\n  }\n  onSubmit(form) {\n    this.submitted = true;\n    console.log(form.invalid);\n    if (form.invalid) {\n      this.toast.error('Cannot create camp with empty fields');\n      return;\n    }\n    console.log(form.value);\n    this.bloodBankService.updateCamp(form.value).subscribe(data => {\n      this.toast.success('Camp updated successfully');\n      this.router.navigate(['/admin-home']);\n    }, error => {\n      this.toast.error('Error updating camp');\n    });\n  }\n  getSingleCamp(campId) {\n    this.bloodBankService.getSingleCamp(campId).subscribe(data => {\n      console.log(data);\n      this.camp = data;\n      this.patchFormValues();\n    }, error => {\n      this.toast.error('Error retrieving camp details');\n    });\n  }\n  patchFormValues() {\n    if (this.camp) {\n      this.editForm.controls['name'].setValue(this.camp.name);\n      this.editForm.controls['createdBy'].setValue(this.camp.createdBy);\n      this.editForm.controls['location'].setValue(this.camp.location);\n      this.editForm.controls['date'].setValue(this.camp.date);\n      this.editForm.controls['startTime'].setValue(this.camp.startTime);\n      this.editForm.controls['endTime'].setValue(this.camp.endTime);\n    }\n  }\n  getMinDate() {\n    const today = new Date();\n    const year = today.getFullYear();\n    let month = today.getMonth() + 1;\n    let day = today.getDate();\n    if (month < 10) {\n      month = '0' + month;\n    }\n    if (day < 10) {\n      day = '0' + day;\n    }\n    return `${year}-${month}-${day}`;\n  }\n}\nEditCampComponent.ɵfac = function EditCampComponent_Factory(t) {\n  return new (t || EditCampComponent)(i0.ɵɵdirectiveInject(i1.HotToastService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.BloodBankService));\n};\nEditCampComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditCampComponent,\n  selectors: [[\"app-edit-camp\"]],\n  viewQuery: function EditCampComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.editForm = _t.first);\n    }\n  },\n  decls: 60,\n  vars: 27,\n  consts: [[1, \"flex\", \"relative\", \"min-h-full\", \"flex-col\", \"justify-center\", \"px-6\", \"pb-12\", \"mt-2\", \"lg:px-8\"], [1, \"absolute\", \"left-[30%]\", \"top-12\", \"text-center\", \"text-5xl\", \"uppercase\", \"font-bold\", \"leading-9\", \"tracking-wide\", \"text-rose-600\"], [1, \"absolute\", \"right-[32%]\", \"mr-2\", \"top-12\", \"text-center\", \"text-5xl\", \"uppercase\", \"font-bold\", \"leading-9\", \"tracking-wide\", \"text-rose-600\"], [1, \"heart\"], [1, \"heartbeat\"], [1, \"sm:mx-auto\", \"sm:w-full\", \"sm:max-w-sm\"], [\"src\", \"https://png.pngtree.com/element_our/20200609/ourlarge/pngtree-donate-blood-image_2224076.jpg\", \"alt\", \"Your Company\", 1, \"mx-auto\", \"w-32\", \"h-28\", \"shadow-danger\", \"shadow\"], [1, \"mt-9\", \"px-4\", \"py-3\", \"mb-10\", \"w-[480px]\", \"mx-auto\", \"drop-shadow-md\", \"shadow-danger\", \"rounded\", \"shadow-lg\"], [1, \"my-1\", \"mb-4\", \"text-center\", \"text-3xl\", \"underline\", \"uppercase\", \"font-bold\", \"leading-9\", \"tracking-wide\", \"text-rose-600\"], [\"action\", \"#\", \"method\", \"POST\", \"autocomplete\", \"off\", 1, \"space-y-6\", 3, \"ngSubmit\"], [\"editForm\", \"ngForm\"], [\"for\", \"name\", 1, \"block\", \"text-sm\", \"font-medium\", \"leading-6\", \"text-gray-900\"], [1, \"mt-2\"], [\"type\", \"text\", \"name\", \"name\", \"id\", \"name\", \"placeholder\", \"Enter camp name\", \"required\", \"\", \"ngModel\", \"\", 1, \"block\", \"w-full\", \"rounded-md\", \"border-0\", \"py-1.5\", \"px-3\", \"text-gray-900\", \"shadow-sm\", \"ring-1\", \"ring-inset\", \"ring-gray-300\", \"placeholder:text-gray-400\", \"focus:ring-2\", \"focus:outline-none\", \"focus:ring-inset\", \"focus:ring-rose-600\", \"sm:text-sm\", \"sm:leading-6\"], [\"name\", \"ngModel\"], [\"class\", \"text-rose-500\", 4, \"ngIf\"], [\"for\", \"createdBy\", 1, \"block\", \"text-sm\", \"font-medium\", \"leading-6\", \"text-gray-900\"], [\"type\", \"text\", \"name\", \"createdBy\", \"id\", \"createdBy\", \"placeholder\", \"Enter your name\", \"required\", \"\", \"pattern\", \"[a-z A-z]+$\", \"ngModel\", \"\", 1, \"block\", \"w-full\", \"rounded-md\", \"border-0\", \"py-1.5\", \"px-3\", \"text-gray-900\", \"shadow-sm\", \"ring-1\", \"ring-inset\", \"ring-gray-300\", \"placeholder:text-gray-400\", \"focus:ring-2\", \"focus:outline-none\", \"focus:ring-inset\", \"focus:ring-rose-600\", \"sm:text-sm\", \"sm:leading-6\"], [\"createdBy\", \"ngModel\"], [\"for\", \"location\", 1, \"block\", \"text-sm\", \"font-medium\", \"leading-6\", \"text-gray-900\"], [\"type\", \"text\", \"name\", \"location\", \"id\", \"location\", \"placeholder\", \"Enter camp location\", \"required\", \"\", \"ngModel\", \"\", 1, \"block\", \"w-full\", \"rounded-md\", \"border-0\", \"py-1.5\", \"px-3\", \"text-gray-900\", \"shadow-sm\", \"ring-1\", \"ring-inset\", \"ring-gray-300\", \"placeholder:text-gray-400\", \"focus:ring-2\", \"focus:outline-none\", \"focus:ring-inset\", \"focus:ring-rose-600\", \"sm:text-sm\", \"sm:leading-6\"], [\"location\", \"ngModel\"], [\"for\", \"date\", 1, \"block\", \"text-sm\", \"font-medium\", \"leading-6\", \"text-gray-900\"], [\"type\", \"date\", \"name\", \"date\", \"id\", \"date\", \"required\", \"\", \"ngModel\", \"\", 1, \"block\", \"cursor-pointer\", \"w-full\", \"rounded-md\", \"border-0\", \"py-1.5\", \"px-3\", \"text-gray-900\", \"shadow-sm\", \"ring-1\", \"ring-inset\", \"ring-gray-300\", \"placeholder:text-gray-400\", \"focus:ring-2\", \"focus:outline-none\", \"focus:ring-inset\", \"focus:ring-rose-600\", \"sm:text-sm\", \"sm:leading-6\", 3, \"min\"], [\"date\", \"ngModel\"], [\"for\", \"startTime\", 1, \"block\", \"text-sm\", \"font-medium\", \"leading-6\", \"text-gray-900\"], [\"type\", \"time\", \"name\", \"startTime\", \"id\", \"startTime\", \"required\", \"\", \"ngModel\", \"\", \"min\", \"08:00\", \"max\", \"11:00\", 1, \"block\", \"cursor-pointer\", \"w-full\", \"rounded-md\", \"border-0\", \"py-1.5\", \"px-3\", \"text-gray-900\", \"shadow-sm\", \"ring-1\", \"ring-inset\", \"ring-gray-300\", \"placeholder:text-gray-400\", \"focus:ring-2\", \"focus:outline-none\", \"focus:ring-inset\", \"focus:ring-rose-600\", \"sm:text-sm\", \"sm:leading-6\"], [\"startTime\", \"ngModel\"], [\"for\", \"endTime\", 1, \"block\", \"text-sm\", \"font-medium\", \"leading-6\", \"text-gray-900\"], [\"type\", \"time\", \"name\", \"endTime\", \"id\", \"endTime\", \"required\", \"\", \"ngModel\", \"\", \"min\", \"14:00\", \"max\", \"18:00\", 1, \"block\", \"cursor-pointer\", \"w-full\", \"rounded-md\", \"border-0\", \"py-1.5\", \"px-3\", \"text-gray-900\", \"shadow-sm\", \"ring-1\", \"ring-inset\", \"ring-gray-300\", \"placeholder:text-gray-400\", \"focus:ring-2\", \"focus:outline-none\", \"focus:ring-inset\", \"focus:ring-rose-600\", \"sm:text-sm\", \"sm:leading-6\"], [\"endTime\", \"ngModel\"], [1, \"px-1\"], [\"type\", \"submit\", 1, \"flex\", \"hover:scale-105\", \"transition-all\", \"w-full\", \"justify-center\", \"rounded-md\", \"bg-rose-500\", \"px-4\", \"py-1.5\", \"text-sm\", \"font-semibold\", \"leading-6\", \"text-white\", \"shadow-sm\", \"hover:bg-rose-600\", \"focus-visible:outline\", \"focus-visible:outline-2\", \"focus-visible:outline-offset-2\", \"focus-visible:outline-indigo-600\"], [1, \"text-rose-500\"]],\n  template: function EditCampComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r13 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\", 1);\n      i0.ɵɵtext(2, \"Blood\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"h1\", 2);\n      i0.ɵɵtext(4, \"Bank \");\n      i0.ɵɵelementStart(5, \"span\", 3)(6, \"span\", 4);\n      i0.ɵɵtext(7, \"\\uD83E\\uDE78\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(8, \"div\", 5);\n      i0.ɵɵelement(9, \"img\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 7)(11, \"h2\", 8);\n      i0.ɵɵtext(12, \"Edit Camp\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"form\", 9, 10);\n      i0.ɵɵlistener(\"ngSubmit\", function EditCampComponent_Template_form_ngSubmit_13_listener() {\n        i0.ɵɵrestoreView(_r13);\n        const _r0 = i0.ɵɵreference(14);\n        return i0.ɵɵresetView(ctx.onSubmit(_r0));\n      });\n      i0.ɵɵelementStart(15, \"div\")(16, \"label\", 11);\n      i0.ɵɵtext(17, \"Camp Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 12);\n      i0.ɵɵelement(19, \"input\", 13, 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(21, EditCampComponent_span_21_Template, 2, 0, \"span\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\")(23, \"label\", 16);\n      i0.ɵɵtext(24, \"Organizer Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"div\", 12);\n      i0.ɵɵelement(26, \"input\", 17, 18);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(28, EditCampComponent_span_28_Template, 2, 0, \"span\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"div\")(30, \"label\", 19);\n      i0.ɵɵtext(31, \"Camp Location\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"div\", 12);\n      i0.ɵɵelement(33, \"input\", 20, 21);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(35, EditCampComponent_span_35_Template, 2, 0, \"span\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"div\")(37, \"label\", 22);\n      i0.ɵɵtext(38, \"Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"div\", 12);\n      i0.ɵɵelement(40, \"input\", 23, 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(42, EditCampComponent_span_42_Template, 2, 0, \"span\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"div\")(44, \"label\", 25);\n      i0.ɵɵtext(45, \"Start Time\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"div\", 12);\n      i0.ɵɵelement(47, \"input\", 26, 27);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(49, EditCampComponent_span_49_Template, 2, 0, \"span\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(50, \"div\")(51, \"label\", 28);\n      i0.ɵɵtext(52, \"End Time\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(53, \"div\", 12);\n      i0.ɵɵelement(54, \"input\", 29, 30);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(56, EditCampComponent_span_56_Template, 2, 0, \"span\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(57, \"div\", 31)(58, \"button\", 32);\n      i0.ɵɵtext(59, \" Create Camp \");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(20);\n      const _r3 = i0.ɵɵreference(27);\n      const _r5 = i0.ɵɵreference(34);\n      const _r7 = i0.ɵɵreference(41);\n      const _r9 = i0.ɵɵreference(48);\n      const _r11 = i0.ɵɵreference(55);\n      i0.ɵɵadvance(19);\n      i0.ɵɵclassProp(\"bg-rose-100\", _r1.invalid && _r1.touched)(\"bg-white\", _r1.valid);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r1.invalid && _r1.touched);\n      i0.ɵɵadvance(5);\n      i0.ɵɵclassProp(\"bg-rose-100\", _r3.invalid && _r3.touched)(\"bg-white\", _r3.valid);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r3.invalid && _r3.touched);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", _r5.invalid && _r5.touched);\n      i0.ɵɵadvance(5);\n      i0.ɵɵclassProp(\"bg-rose-100\", _r7.invalid && _r7.touched)(\"bg-white\", _r7.valid);\n      i0.ɵɵproperty(\"min\", ctx.getMinDate());\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r7.invalid && _r7.touched);\n      i0.ɵɵadvance(5);\n      i0.ɵɵclassProp(\"bg-rose-100\", _r9.invalid && _r9.touched)(\"bg-white\", _r9.valid);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r9.invalid && _r9.touched);\n      i0.ɵɵadvance(5);\n      i0.ɵɵclassProp(\"bg-rose-100\", _r11.invalid && _r11.touched)(\"bg-white\", _r11.valid);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r11.invalid && _r11.touched);\n    }\n  },\n  dependencies: [i4.NgIf, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.PatternValidator, i5.NgModel, i5.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJlZGl0LWNhbXAuY29tcG9uZW50LmNzcyJ9 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZWRpdC1jYW1wL2VkaXQtY2FtcC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSxvS0FBb0siLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","EditCampComponent","constructor","toast","router","route","bloodBankService","ngOnInit","constthis","campId","snapshot","paramMap","get","getSingleCamp","onSubmit","form","submitted","console","log","invalid","error","value","updateCamp","subscribe","data","success","navigate","camp","patchFormValues","editForm","controls","setValue","name","createdBy","location","date","startTime","endTime","getMinDate","today","Date","year","getFullYear","month","getMonth","day","getDate","selectors","viewQuery"],"sourceRoot":"","sources":["C:\\Users\\hp\\Documents\\Arcs Infotech\\blood-bank-system\\src\\app\\edit-camp\\edit-camp.component.html","C:\\Users\\hp\\Documents\\Arcs Infotech\\blood-bank-system\\src\\app\\edit-camp\\edit-camp.component.ts"],"sourcesContent":["<div class=\"flex relative min-h-full flex-col justify-center px-6 pb-12 mt-2 lg:px-8\">\n  <h1 class=\"absolute left-[30%] top-12 text-center text-5xl uppercase font-bold leading-9 tracking-wide text-rose-600\">Blood</h1>\n  <h1 class=\"absolute right-[32%] mr-2 top-12 text-center text-5xl uppercase font-bold leading-9 tracking-wide text-rose-600\">Bank\n    <span class=\"heart\"><span class=\"heartbeat\">🩸</span></span>\n  </h1>\n  <div class=\"sm:mx-auto sm:w-full sm:max-w-sm\">\n    <img\n      class=\"mx-auto w-32 h-28 shadow-danger shadow\"\n      src=\"https://png.pngtree.com/element_our/20200609/ourlarge/pngtree-donate-blood-image_2224076.jpg\"\n      alt=\"Your Company\"\n    />\n  </div>\n\n  <div class=\"mt-9 px-4 py-3 mb-10 w-[480px] mx-auto drop-shadow-md shadow-danger rounded shadow-lg\">\n    <h2\n      class=\"my-1 mb-4 text-center text-3xl underline uppercase font-bold leading-9 tracking-wide text-rose-600\"\n    >Edit Camp</h2>\n    <form class=\"space-y-6\" action=\"#\" method=\"POST\" #editForm=\"ngForm\" (ngSubmit)=\"onSubmit(editForm)\" autocomplete=\"off\">\n      <!-- name -->\n      <div>\n        <label for=\"name\" class=\"block text-sm font-medium leading-6 text-gray-900\">Camp Name</label>\n        <div class=\"mt-2\">\n          <input type=\"text\" \n          name=\"name\" \n          id=\"name\" \n          placeholder=\"Enter camp name\"\n          required\n          ngModel\n          #name=\"ngModel\"\n          [class.bg-rose-100]=\"name.invalid && name.touched\" [class.bg-white]=\"name.valid\"\n          class=\"block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:outline-none focus:ring-inset focus:ring-rose-600 sm:text-sm sm:leading-6\">\n        </div>\n        <span *ngIf=\"name.invalid && name.touched\" class=\"text-rose-500\">*Please enter Camp Name</span>\n      </div>\n\n      <!-- created by -->\n      <div>\n        <label for=\"createdBy\" class=\"block text-sm font-medium leading-6 text-gray-900\">Organizer Name</label>\n        <div class=\"mt-2\">\n          <input type=\"text\" \n          name=\"createdBy\" \n          id=\"createdBy\" \n          placeholder=\"Enter your name\"\n          required\n          pattern=\"[a-z A-z]+$\"\n          ngModel\n          #createdBy=\"ngModel\"\n          [class.bg-rose-100]=\"createdBy.invalid && createdBy.touched\" [class.bg-white]=\"createdBy.valid\"\n          class=\"block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:outline-none focus:ring-inset focus:ring-rose-600 sm:text-sm sm:leading-6\">\n        </div>\n        <span *ngIf=\"createdBy.invalid && createdBy.touched\" class=\"text-rose-500\">*Please enter Organizer's name</span>\n      </div>\n\n      <!-- location -->\n      <div>\n        <label for=\"location\" class=\"block text-sm font-medium leading-6 text-gray-900\">Camp Location</label>\n        <div class=\"mt-2\">\n          <input type=\"text\" \n          name=\"location\" \n          id=\"location\" \n          placeholder=\"Enter camp location\"\n          required\n          ngModel\n          #location=\"ngModel\"\n          class=\"block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:outline-none focus:ring-inset focus:ring-rose-600 sm:text-sm sm:leading-6\">\n        </div>\n        <span *ngIf=\"location.invalid && location.touched\" class=\"text-rose-500\">*Please enter camp location</span>\n      </div>\n\n      <!-- date -->\n      <div>\n        <label for=\"date\" class=\"block text-sm font-medium leading-6 text-gray-900\">Date</label>\n        <div class=\"mt-2\">\n          <input type=\"date\" name=\"date\" id=\"date\" [min]=\"getMinDate()\" required\n          #date=\"ngModel\"\n          ngModel\n          [class.bg-rose-100]=\"date.invalid && date.touched\" [class.bg-white]=\"date.valid\"\n          class=\"block cursor-pointer w-full rounded-md border-0 py-1.5 px-3 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:outline-none focus:ring-inset focus:ring-rose-600 sm:text-sm sm:leading-6\">\n        </div>\n        <span *ngIf=\"date.invalid && date.touched\" class=\"text-rose-500\">*Please select camp date</span>\n      </div>\n\n      <!-- start time -->\n      <div>\n        <label for=\"startTime\" class=\"block text-sm font-medium leading-6 text-gray-900\">Start Time</label>\n        <div class=\"mt-2\">\n          <input type=\"time\" name=\"startTime\" \n          id=\"startTime\" required\n          ngModel\n          #startTime=\"ngModel\"\n          [class.bg-rose-100]=\"startTime.invalid && startTime.touched\" [class.bg-white]=\"startTime.valid\"\n          class=\"block cursor-pointer w-full rounded-md border-0 py-1.5 px-3 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:outline-none focus:ring-inset focus:ring-rose-600 sm:text-sm sm:leading-6\"\n          min=\"08:00\" max=\"11:00\">\n        </div>\n        <span *ngIf=\"startTime.invalid && startTime.touched\" class=\"text-rose-500\">*Please select start time</span>\n      </div>\n\n      <!-- end time -->\n      <div>\n        <label for=\"endTime\" class=\"block text-sm font-medium leading-6 text-gray-900\">End Time</label>\n        <div class=\"mt-2\">\n          <input type=\"time\" name=\"endTime\" id=\"endTime\" required\n          ngModel\n          #endTime=\"ngModel\"\n          [class.bg-rose-100]=\"endTime.invalid && endTime.touched\" [class.bg-white]=\"endTime.valid\"\n          class=\"block cursor-pointer w-full rounded-md border-0 py-1.5 px-3 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:outline-none focus:ring-inset focus:ring-rose-600 sm:text-sm sm:leading-6\"\n          min=\"14:00\" max=\"18:00\">\n        </div>\n        <span *ngIf=\"endTime.invalid && endTime.touched\" class=\"text-rose-500\">*Please select end time</span>\n      </div>\n\n\n      <div class=\"px-1\">\n        <button\n          type=\"submit\"\n          class=\"flex hover:scale-105 transition-all w-full justify-center rounded-md bg-rose-500 px-4 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-rose-600 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600\"\n        >\n          Create Camp\n        </button>\n      </div>\n    </form>\n\n    <!-- <p class=\"mt-10 text-center text-sm text-gray-500\">\n      Already registered?\n      <a\n        href=\"\"\n        routerLink=\"/donor-login\"\n        class=\"font-semibold leading-6 text-rose-500 hover:text-rose-600\"\n        >Login here</a\n      >\n    </p> -->\n  </div>\n</div>","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { HotToastService } from '@ngneat/hot-toast';\nimport { BloodBankService } from '../blood-bank.service';\n\n@Component({\n  selector: 'app-edit-camp',\n  templateUrl: './edit-camp.component.html',\n  styleUrls: ['./edit-camp.component.css']\n})\nexport class EditCampComponent implements OnInit {\n  // editForm!: NgForm;\n  @ViewChild('editForm') editForm!: NgForm;\n  submitted: boolean = false;\n  camp: any;\n  campId: any;\n\n  constructor(\n    private toast: HotToastService,\n    private router: Router,\n    private route: ActivatedRoute,\n    private bloodBankService: BloodBankService\n  ) {}\n\n  ngOnInit(): void {\n    constthis.campId = this.route.snapshot.paramMap.get('id');\n    if (campId) {\n      this.getSingleCamp(campId);\n    }\n  }\n\n  onSubmit(form: NgForm) {\n    this.submitted = true;\n    console.log(form.invalid)\n    if (form.invalid) {\n      this.toast.error('Cannot create camp with empty fields');\n      return;\n    }\n\n    console.log(form.value);\n\n    this.bloodBankService.updateCamp(form.value).subscribe(\n      (data: any) => {\n        this.toast.success('Camp updated successfully');\n        this.router.navigate(['/admin-home']);\n      },\n      (error: any) => {\n        this.toast.error('Error updating camp');\n      }\n    );\n  }\n\n  getSingleCamp(campId: string) {\n    this.bloodBankService.getSingleCamp(campId).subscribe(\n      (data: any) => {\n        console.log(data)\n        this.camp = data;\n        this.patchFormValues();\n      },\n      (error: any) => {\n        this.toast.error('Error retrieving camp details');\n      }\n    );\n  }\n\n  patchFormValues() {\n    if (this.camp) {\n      this.editForm.controls['name'].setValue(this.camp.name);\n      this.editForm.controls['createdBy'].setValue(this.camp.createdBy);\n      this.editForm.controls['location'].setValue(this.camp.location);\n      this.editForm.controls['date'].setValue(this.camp.date);\n      this.editForm.controls['startTime'].setValue(this.camp.startTime);\n      this.editForm.controls['endTime'].setValue(this.camp.endTime);\n    }\n  }\n\n\n\n  getMinDate(): string {\n    const today = new Date();\n    const year = today.getFullYear();\n    let month: string | number = today.getMonth() + 1;\n    let day: string | number = today.getDate();\n    if (month < 10) {\n      month = '0' + month;\n    }\n    if (day < 10) {\n      day = '0' + day;\n    }\n    return `${year}-${month}-${day}`;\n  }\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}