import { InjectionToken } from '@angular/core';
import { InMemoryStorageService } from './in-memory-storage.service';
import { WebStorageService, isLocalStorageAvailable, isSessionStorageAvailable } from './web-storage.service';
export function sessionStorageFactory() {
    if (isSessionStorageAvailable()) {
        return new WebStorageService(sessionStorage);
    }
    return new InMemoryStorageService();
}
/** Injection token for the session storage service. */
export const SESSION_STORAGE = new InjectionToken('SESSION_STORAGE', { providedIn: 'root', factory: sessionStorageFactory });
export function localStorageFactory() {
    if (isLocalStorageAvailable()) {
        return new WebStorageService(localStorage);
    }
    return new InMemoryStorageService();
}
/** Injection token for the local storage service. */
export const LOCAL_STORAGE = new InjectionToken('LOCAL_STORAGE', { providedIn: 'root', factory: localStorageFactory });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RvcmFnZS1wcm92aWRlcnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9saWIvc3JjL3N0b3JhZ2UtcHJvdmlkZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFL0MsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFFckUsT0FBTyxFQUFFLGlCQUFpQixFQUFFLHVCQUF1QixFQUFFLHlCQUF5QixFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFFOUcsTUFBTSxVQUFVLHFCQUFxQjtJQUNqQyxJQUFJLHlCQUF5QixFQUFFLEVBQUU7UUFDN0IsT0FBTyxJQUFJLGlCQUFpQixDQUFDLGNBQWMsQ0FBQyxDQUFDO0tBQ2hEO0lBRUQsT0FBTyxJQUFJLHNCQUFzQixFQUFFLENBQUM7QUFDeEMsQ0FBQztBQUVELHVEQUF1RDtBQUN2RCxNQUFNLENBQUMsTUFBTSxlQUFlLEdBQUcsSUFBSSxjQUFjLENBQzdDLGlCQUFpQixFQUNqQixFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLHFCQUFxQixFQUFFLENBQ3pELENBQUM7QUFFRixNQUFNLFVBQVUsbUJBQW1CO0lBQy9CLElBQUksdUJBQXVCLEVBQUUsRUFBRTtRQUMzQixPQUFPLElBQUksaUJBQWlCLENBQUMsWUFBWSxDQUFDLENBQUM7S0FDOUM7SUFFRCxPQUFPLElBQUksc0JBQXNCLEVBQUUsQ0FBQztBQUN4QyxDQUFDO0FBRUQscURBQXFEO0FBQ3JELE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxJQUFJLGNBQWMsQ0FDM0MsZUFBZSxFQUNmLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsQ0FDdkQsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGlvblRva2VuIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IEluTWVtb3J5U3RvcmFnZVNlcnZpY2UgfSBmcm9tICcuL2luLW1lbW9yeS1zdG9yYWdlLnNlcnZpY2UnO1xuaW1wb3J0IHsgU3RvcmFnZVNlcnZpY2UgfSBmcm9tICcuL3N0b3JhZ2Uuc2VydmljZSc7XG5pbXBvcnQgeyBXZWJTdG9yYWdlU2VydmljZSwgaXNMb2NhbFN0b3JhZ2VBdmFpbGFibGUsIGlzU2Vzc2lvblN0b3JhZ2VBdmFpbGFibGUgfSBmcm9tICcuL3dlYi1zdG9yYWdlLnNlcnZpY2UnO1xuXG5leHBvcnQgZnVuY3Rpb24gc2Vzc2lvblN0b3JhZ2VGYWN0b3J5KCk6IFN0b3JhZ2VTZXJ2aWNlIHtcbiAgICBpZiAoaXNTZXNzaW9uU3RvcmFnZUF2YWlsYWJsZSgpKSB7XG4gICAgICAgIHJldHVybiBuZXcgV2ViU3RvcmFnZVNlcnZpY2Uoc2Vzc2lvblN0b3JhZ2UpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgSW5NZW1vcnlTdG9yYWdlU2VydmljZSgpO1xufVxuXG4vKiogSW5qZWN0aW9uIHRva2VuIGZvciB0aGUgc2Vzc2lvbiBzdG9yYWdlIHNlcnZpY2UuICovXG5leHBvcnQgY29uc3QgU0VTU0lPTl9TVE9SQUdFID0gbmV3IEluamVjdGlvblRva2VuPFN0b3JhZ2VTZXJ2aWNlPihcbiAgICAnU0VTU0lPTl9TVE9SQUdFJyxcbiAgICB7IHByb3ZpZGVkSW46ICdyb290JywgZmFjdG9yeTogc2Vzc2lvblN0b3JhZ2VGYWN0b3J5IH0sXG4pO1xuXG5leHBvcnQgZnVuY3Rpb24gbG9jYWxTdG9yYWdlRmFjdG9yeSgpOiBTdG9yYWdlU2VydmljZSB7XG4gICAgaWYgKGlzTG9jYWxTdG9yYWdlQXZhaWxhYmxlKCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBXZWJTdG9yYWdlU2VydmljZShsb2NhbFN0b3JhZ2UpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgSW5NZW1vcnlTdG9yYWdlU2VydmljZSgpO1xufVxuXG4vKiogSW5qZWN0aW9uIHRva2VuIGZvciB0aGUgbG9jYWwgc3RvcmFnZSBzZXJ2aWNlLiAqL1xuZXhwb3J0IGNvbnN0IExPQ0FMX1NUT1JBR0UgPSBuZXcgSW5qZWN0aW9uVG9rZW48U3RvcmFnZVNlcnZpY2U+KFxuICAgICdMT0NBTF9TVE9SQUdFJyxcbiAgICB7IHByb3ZpZGVkSW46ICdyb290JywgZmFjdG9yeTogbG9jYWxTdG9yYWdlRmFjdG9yeSB9LFxuKTtcbiJdfQ==